package thread_4;

public class ThreadSync_5 {

	public static void main(String[] args) {
		Memory_5 mem = new Memory_5(16);
		
	}
}

class Memory_5 {
	int[] buffer;
	int size;
	int progress;
	
	Memory_5(int asize) {
		size = asize;
		buffer = new int[asize];
		progress = 0;
	}
}

class Play_5 extends Thread{
	Memory_5 mem;
	
	Play_5(Memory_5 amem) {
		mem = amem;
	}
	
	@Override
	public void run() {
		synchronized (mem) {
			try {
				mem.wait();
			} catch (InterruptedException e) {
				;
			}
		}
		
		for(int off = 0; off < mem.progress; off++) {
			System.out.println(mem.buffer[off] + " ");
		}
		System.out.println();
	}
}

class DownLoad extends Thread{
	
	Memory_5 mem;
	DownLoad(Memory_5 amem) {
		mem = amem;
	}
	
	@Override
	public void run() {
		
		for(int off = 0; off < mem.size; off++) {
			mem.buffer[off] = off;
			mem.progress = off + 1;
			try {
				Thread.sleep(200);
			} catch (Exception e) {
				// TODO: handle exception
			}
		}
		synchronized (mem) {
			
		}
	}
}